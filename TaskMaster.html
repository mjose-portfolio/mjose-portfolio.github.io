<!DOCTYPE html>
<html lang="en">
<head>

        <title>TaskMaster</title>
        <meta charset="utf-8" />


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="/theme/gumby.css" />
        <link rel="stylesheet" type="text/css" href="/theme/style.css" />
        <link rel="stylesheet" type="text/css" href="/theme/pygment.css" />

        <script src="/theme/js/libs/modernizr-2.6.2.min.js"></script>




</head>

<body id="index" class="home">


    <div class="container">

        <div class="row">

          <header id="banner" class="body">
                  <h1><a href="/">Portfolio's Marc Jose Rubio <strong></strong></a></h1>
          </header><!-- /#banner -->

            <div id="navigation" class="navbar row">
              <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>
             
              <ul class="columns">
                <li><a href="/">Home</a></li>

                <li><a href="/pages/about-me.html">About me</a></li>
                <li><a href="https://www.linkedin.com/in/marc-jose-rubio-0b8420158">LinkedIn</a></li>  

              </ul>
            </div>

<section id="content" class="body">

   <div class="row">
        <div class="eleven columns">


            <header>
              <h2 class="entry-title">
                <a href="/TaskMaster.html" rel="bookmark"
                   title="Permalink to TaskMaster">TaskMaster</a></h2>
           
            </header>
            <footer class="post-info">
              <abbr class="published" title="2019-11-29T23:14:00+01:00">
                Fri 29 November 2019
              </abbr>
              <address class="vcard author">By 
                <a class="url fn" href="/author/abraham-gimbao.html"> Abraham Gimbao</a>
                <a class="url fn" href="/author/marc-jose.html"> Marc Jose</a>
              </address>
            </footer><!-- /.post-info -->
            <div class="entry-content">
              <p>Basic task manager that reads from a config.json file and supervises a number of processes.
We were restricted to our language of choiceâ€™s standard library. Except for the config file parsing.</p>
<p>The script reads the tasks parameters from the json file, and executes some kind of user prompt to effectively manage these tasks.</p>
<p>The only argument needed is a config file. All info about making your own config file is in exampleconfig.json.</p>
<p><a href="https://github.com/mjose-portfolio/42-TaskMaster">Try it on Github!</a></p>
<h2>Install</h2>
<ul>
<li>Not needed.</li>
</ul>
<h2>Configuration</h2>
<ul>
<li>Create a file in json format with the following characteristics:</li>
</ul>
<div class="highlight"><pre><span></span><span class="err">{                                   </span>
<span class="err">    &quot;programs&quot;: {                   #a list of programs</span>
<span class="err">        &quot;sleep&quot;: {                  #the name of a program *Required*</span>
<span class="err">            &quot;cmd&quot;: &quot;sleep 1000&quot;,    #the exact command to launch *Required*</span>
<span class="err">            &quot;cmdammount&quot;: 10,       #the number of times you need to launch this process *Required*</span>
<span class="err">            &quot;autostart&quot;: true,      #cmd started at launch True/False? *Required*</span>
<span class="err">            &quot;autorestart&quot;: &quot;never&quot;, #restart this program on &quot;never&quot;, &quot;always&quot;, or on &quot;unexpected&quot; termination *Required*</span>
<span class="err">            &quot;starttime&quot;: 5,         #amount of time to go by before the program is considered &quot;succesfully started&quot; *Required*</span>
<span class="err">            &quot;stoptime&quot;: 10,         #amount of time to go by after sending quitsit to program before killing it completely with SIGKILL *Required*</span>
<span class="err">            &quot;restartretries&quot;: 3,    #amount of times a program will be tried to be restarted or started at the beginning before giving up on it *Required*</span>
<span class="err">            &quot;quitsig&quot;: &quot;TERM&quot;,      #signal that will be sent to the command to be gracefully exited (QUIT, TERM, INT, KILL) *Required*</span>
<span class="err">            &quot;exitcodes&quot;: &quot;None&quot;,    #exitcodes that define an expected termination for use autorestart or None for all exitcodes being considered unexpected</span>
<span class="err">            &quot;workingdir&quot;: &quot;/tmp/&quot;,  #working directory to be set for the command or None for same working dir as parent(taskmaster)</span>
<span class="err">            &quot;umask&quot;: 0,             #umask to be set for the program or None (in decimal (integer)!)</span>
<span class="err">            &quot;stdout&quot;: &quot;None&quot;,       #option to redirect stdout to file or to simple discard it with &quot;discard&quot; or None</span>
<span class="err">            &quot;stderr&quot;: &quot;None&quot;,       #option to redirect stderr to file or to simple discard it with &quot;discard&quot; or None</span>
<span class="err">            &quot;env&quot;: &quot;None&quot;           #extra env parameters to provide to the new process, &quot;None&quot; for no environment at all, or &quot;default&quot; for the same env as taskmaster</span>
<span class="err">        }</span>
<span class="err">    }</span>
<span class="err">}</span>
</pre></div>


<h2>Launching method</h2>
<ul>
<li><code>python3 taskmaster.py config_files/&lt;yourconfig&gt;.json</code></li>
</ul>
<h2>Commands</h2>
<ul>
<li><code>help</code>: List available commands with "help" or detailed help with "help cmd".</li>
<li><code>help &lt;command&gt;</code>: Prints the description and the method of use of the command.</li>
<li><code>start &lt;program&gt;</code>: Starts desired program(s). Usage -&gt; start <program name(s)></li>
<li><code>stop &lt;program&gt;</code>: Stops desired program(s). Usage -&gt; stop <program name(s)></li>
<li><code>restart &lt;program&gt;</code>: Restarts desired program(s) that has already been launched. Usage -&gt; restart <program name(s)></li>
<li><code>reload</code>: Reloads the whole configuration. Usage -&gt; reload</li>
<li><code>display</code>: Opens a window that shows the pre-loaded configuration and the status of the programs to be monitored.</li>
</ul>
<h2>Examples</h2>
<p><img alt="alt text" src="images/taskmaster/start_taskmaster.gif">
<img alt="alt text" src="images/taskmaster/start_ls.gif">
<img alt="alt text" src="images/taskmaster/display_command.gif">
<img alt="alt text" src="images/taskmaster/display.gif"></p>
            </div><!-- /.entry-content -->


        </div><!-- /.eleven.columns -->

<div class="three columns">

  <h4>Pages</h4>

  <ul>

    <li ><a href="/pages/about-me.html">About me</a></li>
    <li><a href="https://www.linkedin.com/in/marc-jose-rubio-0b8420158">LinkedIn</a></li>  
  





</div> </div><!-- /.row -->


</section>

       </div><!-- /.row -->
    </div><!-- /.container -->


       <div class="container.nopad bg">

    
        <footer id="credits" class="row">
          <div class="seven columns left-center">

                   <address id="about" class="vcard body">
                    Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                    which takes great advantage of <a href="http://python.org">Python</a>.
                    <br />
                    Based on the <a target="_blank" href="http://gumbyframework.com">Gumby Framework</a>
                    </address>
          </div>


          <div class="seven columns">
            <div class="row">
              <ul class="socbtns">





              </ul>
            </div>
          </div>
        </footer>

    </div>


  <script src="/theme/js/libs/jquery-1.9.1.min.js"></script>
  <script src="/theme/js/libs/gumby.min.js"></script>
  <script src="/theme/js/plugins.js"></script>
</body>
</html>